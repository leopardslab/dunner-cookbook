# Next.js SSR

This is a [Dunner](https://github.com/leopardslab/dunner) recipe for running your Next.js project (geared towards SSR) in a standardized Node environment.

## Usage

**Run the following command to initialize the Dunner recipe.**

```bash
$ dunner init next-js-ssr
```

This will go ahead and create the Dunner task file (`.dunner.yml`) required to execute Dunner commands.

## Commands

Prior to this, please specify any environment variables that your project uses in a .env file and in the Dunner task file. By default, this recipe will come with configuration for your authentication secret that you just have to specify the value for.

**Run the following to initialize the Next.js project directory.**

```bash
$ dunner do init
```

Run the following command to start the project in a production server

```bash
$ dunner do next start
```

Run the following command to build the application (does not start a server)

```bash
$ dunner do next build
```

Run the following to start the project in a development server

```bash
$ dunner do next
```

## Other Scripts

Provided you have installed and configured a linter in your project. You can run this script by running
```bash
$ dunner do lint
```

As shorthand for building the project, you can run this script to build the project to `build`
```bash
$ dunner do build
```

Deploy app to Heroku (you must place a `.netrc` copy in the root containing your credentials)
```bash
$ dunner do deploy INSERT_HEROKU_APP_NAME
```

## Custom npm Scripts

You can execute the `next-custom` task in order to run any custom npm scripts that you have specified in your project:

```bash
$ dunner do next-custom INSERT_NAME_OF_SCRIPT
```
